(function(){"use strict";L.MakiMarkers={accessToken:null,defaultColor:"#0a0",defaultIcon:"circle-stroked",defaultSize:"m",apiUrl:"https://api.mapbox.com/v4/marker/",smallOptions:{iconSize:[20,50],popupAnchor:[0,-20]},mediumOptions:{iconSize:[30,70],popupAnchor:[0,-30]},largeOptions:{iconSize:[36,90],popupAnchor:[0,-40]}};L.MakiMarkers.Icon=L.Icon.extend({options:{accessToken:null,icon:L.MakiMarkers.defaultIcon,color:L.MakiMarkers.defaultColor,size:L.MakiMarkers.defaultSize,shadowAnchor:null,shadowSize:null,shadowUrl:null,className:"maki-marker"},initialize:function(n){var t,i,r=n.accessToken||L.MakiMarkers.accessToken;if(!r)throw new Error("Access to the Mapbox API requires a valid access token.");i="?access_token="+r;n=L.setOptions(this,n);switch(n.size){case"s":L.extend(n,L.MakiMarkers.smallOptions);break;case"l":L.extend(n,L.MakiMarkers.largeOptions);break;default:n.size="m";L.extend(n,L.MakiMarkers.mediumOptions)}t="pin-"+n.size;n.icon!==null&&(t+="-"+n.icon);n.color!==null&&(n.color.charAt(0)==="#"&&(n.color=n.color.substr(1)),t+="+"+n.color);n.iconUrl=""+L.MakiMarkers.apiUrl+t+".png"+i;n.iconRetinaUrl=L.MakiMarkers.apiUrl+t+"@2x.png"+i}});L.MakiMarkers.icon=function(n){return new L.MakiMarkers.Icon(n)}})();